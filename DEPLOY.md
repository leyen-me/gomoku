# éƒ¨ç½²æŒ‡å—

## âš ï¸ Vercel éƒ¨ç½²é™åˆ¶

**é‡è¦æç¤º**ï¼šVercel å¯¹ WebSocketï¼ˆSocket.ioï¼‰çš„æ”¯æŒæœ‰é™åˆ¶ï¼š
- Vercel çš„ Serverless Functions ä¸æ”¯æŒé•¿æœŸ WebSocket è¿æ¥
- Socket.io éœ€è¦æŒä¹…è¿æ¥ï¼Œåœ¨ Vercel ä¸Šå¯èƒ½æ— æ³•æ­£å¸¸å·¥ä½œ

## ğŸš€ æ¨èéƒ¨ç½²æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1ï¼šRailwayï¼ˆæ¨èï¼‰â­

Railway å®Œå…¨æ”¯æŒ WebSocket å’Œ Socket.ioï¼Œéƒ¨ç½²ç®€å•ï¼š

1. **æ³¨å†Œ Railway è´¦å·**ï¼šhttps://railway.app
2. **è¿æ¥ GitHub ä»“åº“**
3. **é…ç½®ç¯å¢ƒå˜é‡**ï¼š
   - `NODE_ENV=production`
   - `PORT`ï¼ˆRailway ä¼šè‡ªåŠ¨è®¾ç½®ï¼‰
4. **è®¾ç½®å¯åŠ¨å‘½ä»¤**ï¼š`npm start`
5. **éƒ¨ç½²å®Œæˆ**

Railway å…è´¹é¢åº¦å……è¶³ï¼Œé€‚åˆä¸ªäººé¡¹ç›®ã€‚

### æ–¹æ¡ˆ 2ï¼šRender

Render ä¹Ÿæ”¯æŒ WebSocketï¼š

1. **æ³¨å†Œ Render è´¦å·**ï¼šhttps://render.com
2. **åˆ›å»º Web Service**
3. **è¿æ¥ GitHub ä»“åº“**
4. **é…ç½®**ï¼š
   - Build Command: `npm install && npm run build`
   - Start Command: `npm start`
5. **éƒ¨ç½²**

### æ–¹æ¡ˆ 3ï¼šFly.io

Fly.io æ”¯æŒ WebSocketï¼Œæ€§èƒ½ä¼˜ç§€ï¼š

1. **å®‰è£… Fly CLI**ï¼š`curl -L https://fly.io/install.sh | sh`
2. **ç™»å½•**ï¼š`fly auth login`
3. **åˆå§‹åŒ–**ï¼š`fly launch`
4. **éƒ¨ç½²**ï¼š`fly deploy`

### æ–¹æ¡ˆ 4ï¼šåˆ†ç¦»éƒ¨ç½²ï¼ˆé«˜çº§ï¼‰

å¦‚æœåšæŒä½¿ç”¨ Vercelï¼š

1. **å‰ç«¯éƒ¨ç½²åˆ° Vercel**ï¼š
   - ä¿®æ”¹ `lib/socket.js`ï¼Œå°† Socket.io æœåŠ¡å™¨åœ°å€æŒ‡å‘ç‹¬ç«‹çš„åç«¯æœåŠ¡
   - åªéƒ¨ç½² Next.js å‰ç«¯éƒ¨åˆ†

2. **åç«¯éƒ¨ç½²åˆ° Railway/Render**ï¼š
   - åªéƒ¨ç½² Socket.io æœåŠ¡å™¨éƒ¨åˆ†
   - è®¾ç½® CORS å…è®¸ Vercel åŸŸåè®¿é—®

## ğŸ“ éƒ¨ç½²å‰å‡†å¤‡

### 1. æ›´æ–° package.jsonï¼ˆå¦‚æœéœ€è¦ï¼‰

ç¡®ä¿æ„å»ºè„šæœ¬æ­£ç¡®ï¼š

```json
{
  "scripts": {
    "dev": "node server.js",
    "build": "next build",
    "start": "NODE_ENV=production node server.js"
  }
}
```

### 2. ç¯å¢ƒå˜é‡

å¤§å¤šæ•°å¹³å°ä¼šè‡ªåŠ¨è®¾ç½® `PORT`ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ã€‚

### 3. æ£€æŸ¥ä¾èµ–

ç¡®ä¿æ‰€æœ‰ä¾èµ–éƒ½åœ¨ `package.json` ä¸­åˆ—å‡ºã€‚

## ğŸ”§ Railway éƒ¨ç½²æ­¥éª¤ï¼ˆè¯¦ç»†ï¼‰

1. **å‡†å¤‡ä»£ç **ï¼š
   ```bash
   git add .
   git commit -m "å‡†å¤‡éƒ¨ç½²"
   git push origin main
   ```

2. **åœ¨ Railway ä¸­**ï¼š
   - ç‚¹å‡» "New Project"
   - é€‰æ‹© "Deploy from GitHub repo"
   - é€‰æ‹©ä½ çš„ä»“åº“
   - Railway ä¼šè‡ªåŠ¨æ£€æµ‹ Node.js é¡¹ç›®

3. **é…ç½®**ï¼š
   - æ— éœ€é¢å¤–é…ç½®ï¼ŒRailway ä¼šè‡ªåŠ¨è¿è¡Œ `npm start`
   - å¦‚æœéœ€è¦ï¼Œå¯ä»¥è®¾ç½®ç¯å¢ƒå˜é‡

4. **è·å–åŸŸå**ï¼š
   - Railway ä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ªåŸŸå
   - å¯ä»¥åœ¨è®¾ç½®ä¸­è‡ªå®šä¹‰åŸŸå

## ğŸŒ å…¶ä»–å¹³å°å¯¹æ¯”

| å¹³å° | WebSocket æ”¯æŒ | å…è´¹é¢åº¦ | éƒ¨ç½²éš¾åº¦ | æ¨èåº¦ |
|------|---------------|---------|---------|--------|
| Railway | âœ… å®Œå…¨æ”¯æŒ | å……è¶³ | â­ ç®€å• | â­â­â­â­â­ |
| Render | âœ… æ”¯æŒ | æœ‰é™ | â­â­ ä¸­ç­‰ | â­â­â­â­ |
| Fly.io | âœ… æ”¯æŒ | å……è¶³ | â­â­â­ è¾ƒéš¾ | â­â­â­â­ |
| Vercel | âŒ æœ‰é™æ”¯æŒ | å……è¶³ | â­ ç®€å• | â­â­ |

## ğŸ’¡ å»ºè®®

**å¯¹äºè¿™ä¸ªäº”å­æ£‹é¡¹ç›®ï¼Œå¼ºçƒˆæ¨èä½¿ç”¨ Railway**ï¼š
- å®Œå…¨æ”¯æŒ Socket.io
- éƒ¨ç½²ç®€å•ï¼Œæ— éœ€å¤æ‚é…ç½®
- å…è´¹é¢åº¦å……è¶³
- è‡ªåŠ¨ HTTPS
- è‡ªåŠ¨åŸŸååˆ†é…

